{"version":3,"sources":["components/Pagination/Pagination.module.css","../node_modules/classnames/index.js","features/Users/User/Users.module.css","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","components/Pagination/Pagination.tsx","features/Users/User/User.tsx","features/Users/Users.tsx","features/Users/UsersContainer.tsx"],"names":["module","exports","hasOwn","hasOwnProperty","classNames","classes","i","arguments","length","arg","argType","push","Array","isArray","inner","apply","toString","Object","prototype","key","call","join","default","_slicedToArray","arr","Symbol","iterator","_arr","_n","_d","_e","undefined","_s","_i","next","done","value","err","unsupportedIterableToArray","TypeError","Pagination","totalItemsCount","pageSize","currentPage","onPageChanged","portionSize","pagesCount","Math","ceil","pages","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","className","styles","pagination","pagePanel","onClick","filter","el","map","p","cn","selectedPage","pageNumber","User","user","isFollowing","follow","unFollow","to","id","src","photos","small","userPhoto","s","name","status","followed","disabled","some","Users","users","totalUsersCount","isFollowingAC","u","UsersContainerClass","this","props","getUsersThunk","isFetching","Preloader","React","Component","compose","connect","state","userPage","updateUsers","changeCurrentPage","setTotalUsersCount","toggleIsFetching","withAuthRedirect"],"mappings":"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","file":"static/js/3.96b2d616.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"pagination\":\"Pagination_pagination__3f3jf\",\"pagePanel\":\"Pagination_pagePanel__24k4p\",\"pageNumber\":\"Pagination_pageNumber__2jcLf\",\"selectedPage\":\"Pagination_selectedPage__1qQw8\"};","/*!\n  Copyright (c) 2018 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames() {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tif (arg.length) {\n\t\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\t\tif (inner) {\n\t\t\t\t\t\tclasses.push(inner);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tif (arg.toString === Object.prototype.toString) {\n\t\t\t\t\tfor (var key in arg) {\n\t\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tclasses.push(arg.toString());\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"Users_userPhoto__1zhLH\",\"selected\":\"Users_selected__OAM95\"};","import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import React, {useState} from 'react';\r\nimport styles from './Pagination.module.css';\r\nimport cn from 'classnames';\r\n\r\ntype PropsType = {\r\n    totalItemsCount: number\r\n    pageSize: number\r\n    currentPage: number\r\n    portionSize?: number\r\n    onPageChanged: (pageNumber: number) => void\r\n}\r\n\r\nexport const Pagination: React.FC<PropsType> = ({totalItemsCount, pageSize, currentPage, onPageChanged, portionSize = 10}) => {\r\n    let pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n    let pages: number[] = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n    let portionCount = Math.ceil(pagesCount / portionSize);\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n    let rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n    return (<div className={styles.pagination}>\r\n\r\n\r\n        <div className={styles.pagePanel}>\r\n            {portionNumber > 1 &&\r\n            <button onClick={ () => { setPortionNumber(portionNumber - 1) } }\r\n            >Previous\r\n            </button>}\r\n\r\n            {pages\r\n                .filter(el => (el >= leftPortionPageNumber && el <= rightPortionPageNumber))\r\n                .map(p => {\r\n                    return <span className={ cn({[styles.selectedPage]: currentPage === p}, styles.pageNumber) }\r\n                                 onClick={() => {onPageChanged(p)}}\r\n                                 key={p}\r\n                    >\r\n                        {p}\r\n                    </span>\r\n                })\r\n            }\r\n            {portionCount > portionNumber &&\r\n            <button onClick={() => { setPortionNumber(portionNumber + 1) }}>Next</button>\r\n            }\r\n        </div>\r\n\r\n    </div>)\r\n}\r\n","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport userPhoto from \"../../../assets/images/user.png\"\r\nimport { UsersType } from \"../userReducer\";\r\nimport s from \"./Users.module.css\"\r\n\r\n\r\n\r\ntype UserPropsType = {\r\n    user: UsersType\r\n    isFollowing: number[]\r\n    follow: (userId: number) => void\r\n    unFollow: (userId: number) => void\r\n}\r\n\r\nexport const User: React.FC<UserPropsType> = (\r\n    {\r\n        user, isFollowing,\r\n        follow, unFollow, ...props\r\n    }) => {\r\n    return (\r\n        <div>\r\n            <div>\r\n                <NavLink to={'/Profile/' + user.id}>\r\n                    {/* @ts-ignore */}\r\n                    <img src={user.photos.small != null ? user.photos.small : userPhoto}\r\n                        className={s.userPhoto} />\r\n                    {user.name}\r\n                </NavLink>\r\n            </div>\r\n            <div>\r\n                {user.status}\r\n            </div>\r\n            <div>\r\n                {user.followed\r\n                    ? <button disabled={isFollowing.some(id => id === user.id)}\r\n                        onClick={() => { unFollow(user.id) }}>\r\n                        Unfollow\r\n                    </button>\r\n                    : <button disabled={isFollowing.some(id => id === user.id)} onClick={() => {\r\n                        follow(user.id)\r\n                    }}>\r\n                        Follow\r\n                    </button>}\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}","import React from \"react\";\r\nimport { Pagination } from \"../../components/Pagination/Pagination\";\r\nimport { User } from \"./User/User\";\r\nimport { UsersType } from \"./userReducer\";\r\nimport s from \"./Users.module.css\"\r\n\r\n\r\n\r\ntype UsersPropsType = {\r\n    users: UsersType[]\r\n    pageSize: number\r\n    totalUsersCount: number\r\n    currentPage: number\r\n    isFollowing: number[]\r\n    follow: (userId: number) => void\r\n    unFollow: (userId: number) => void\r\n    onPageChanged: (pageNumber: number) => void\r\n    isFollowingAC: (isFetching: boolean, userId: number) => void\r\n\r\n}\r\n\r\nexport const Users: React.FC<UsersPropsType> = (\r\n    {\r\n        users, pageSize, totalUsersCount, currentPage = 1, isFollowing,\r\n        follow, unFollow, onPageChanged, isFollowingAC, ...props\r\n    }) => {\r\n\r\n    return (\r\n        <div>\r\n            <Pagination\r\n                pageSize={pageSize}\r\n                totalItemsCount={totalUsersCount}\r\n                currentPage={currentPage}\r\n                portionSize={10}\r\n                onPageChanged={onPageChanged} />\r\n            <div>\r\n                {\r\n                    users.map(u => <User\r\n                        key={u.id}\r\n                        user={u}\r\n                        isFollowing={isFollowing}\r\n                        follow={follow}\r\n                        unFollow={unFollow}\r\n                    />)\r\n                }\r\n            </div>\r\n\r\n        </div >\r\n    )\r\n}","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { compose } from 'redux';\r\nimport { AppStateType } from '../../App/redux-store';\r\nimport { Preloader } from '../../components/preloader/Preloader';\r\nimport {withAuthRedirect} from '../../components/HOC/withAuthRedirect'\r\nimport {\r\n  changeCurrentPage,\r\n  onFollow,\r\n  isFollowingAC,\r\n  setTotalUsersCount,\r\n  toggleIsFetching,\r\n  updateUsers,\r\n  UsersType,\r\n  getUsersThunk,\r\n  onPageChanged,\r\n  unFollow,\r\n  follow\r\n} from './userReducer';\r\nimport { Users } from './Users';\r\n\r\n\r\n\r\ntype mapStateToPropsType = {\r\n  users: UsersType[]\r\n  pageSize: number\r\n  totalUsersCount: number\r\n  currentPage: number\r\n  isFetching: boolean\r\n  isFollowing: number[]\r\n}\r\n\r\n\r\ntype MapDispatchPropsType = {\r\n  follow: (userId: number) => void\r\n  unFollow: (userId: number) => void\r\n  updateUsers: (users: Array<UsersType>) => void\r\n  changeCurrentPage: (page: number) => void\r\n  setTotalUsersCount: (totalCount: number) => void\r\n  toggleIsFetching: (isFetching: boolean) => void\r\n  isFollowingAC: (isFetching: boolean, userId: number) => void\r\n  getUsersThunk: (currentPage: number, pageSize: number) => void\r\n  onPageChanged: (pageNumber: number) => void\r\n};\r\n\r\ntype UserPropsType = mapStateToPropsType & MapDispatchPropsType;\r\n\r\n\r\nexport class UsersContainerClass extends React.Component<UserPropsType> {\r\n\r\n\r\n  componentDidMount() {\r\n    this.props.getUsersThunk(this.props.currentPage, this.props.pageSize);\r\n\r\n  }\r\n\r\n  render() {\r\n\r\n\r\n    return <>\r\n      {this.props.isFetching ? <Preloader /> : \"\"}\r\n      <Users {...this.props}\r\n      />\r\n    </>\r\n  }\r\n}\r\n\r\n\r\nlet mapStateToProps = (state: AppStateType) => {\r\n  return {\r\n    users: state.userPage.users,\r\n    pageSize: state.userPage.pageSize,\r\n    totalUsersCount: state.userPage.totalUsersCount,\r\n    currentPage: state.userPage.currentPage,\r\n    isFetching: state.userPage.isFetching,\r\n    isFollowing: state.userPage.isFollowing\r\n\r\n  }\r\n}\r\n\r\n\r\nexport default compose<React.ComponentType>(\r\n  connect(mapStateToProps, {\r\n    follow, unFollow, updateUsers,\r\n    changeCurrentPage, setTotalUsersCount,\r\n    toggleIsFetching, isFollowingAC, getUsersThunk, onPageChanged\r\n  }),\r\n  withAuthRedirect\r\n)(UsersContainerClass)"],"sourceRoot":""}